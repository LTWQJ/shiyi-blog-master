import{c as y,D as r,g as l,h as n,I as p,H as i,i as e,m as $,N as E,j as c,G as w,u as _,e as F,q as D,k as f,l as B,a4 as L,n as P,C as V,o as N,$ as S,a0 as z}from"./vendor.9760fa8a.js";/* empty css                    */import{c as j,s as M,t as T}from"./index.373df683.js";/* empty css                  */import{_ as h}from"./IconPark.402beefe.js";import{M as I,S as U}from"./SongListItem.f4bd4734.js";import{P as q}from"./PlayOne.e72f474c.js";import{L as G}from"./PlayTwo.fe71fa6d.js";import"./plugin-vue_export-helper.21dcd24c.js";const H={class:"leading-5"},O={key:0},R={key:1},J=y({props:{text:null,end:null},setup(t){const u=t,o=r(!1),s=r(!1);return u.text&&u.text.length>u.end&&(o.value=!0),(a,d)=>(l(),n("div",H,[o.value?(l(),n(p,{key:0},[s.value?(l(),n("span",R,i(t.text)+"...",1)):(l(),n("span",O,i(t.text.substring(0,t.end))+"...",1)),e("span",{class:"ml-5 text-gray-700 hover-text",onClick:d[0]||(d[0]=x=>s.value=!s.value)},"["+i(s.value?"\u6536\u8D77":"\u8BE6\u60C5")+"]",1)],64)):(l(),n(p,{key:1},[$(i(t.text),1)],64))]))}}),K={class:"flex items-stretch"},Q=["src"],W={class:"pl-5 flex flex-col justify-between py-1 flex-1"},X={class:"text-2xl font-bold"},Y={class:"flex items-center text-xs text-dc pb-2 pt-3"},Z={class:"ml-2"},tt={class:"ml-5 flex text-dc"},et={class:"text-xs text-gray-500 leading-normal"},st={class:"justify-self-stretch mt-5 gap-x-2 flex items-center"},lt=e("span",null,"\u64AD\u653E\u5168\u90E8",-1),at={class:"w-32 button-outline"},nt=e("span",null,"\u6536\u85CF",-1),ot={class:"button-outline w-8"},ct=y({props:{playlist:null,playAll:null},setup(t){return(u,o)=>{const s=E;return l(),n("div",K,[e("img",{src:t.playlist.coverImgUrl,alt:"",class:"w-44 h-44 object-cover rounded-xl flex-shrink-0"},null,8,Q),e("div",W,[e("div",null,[e("div",X,i(t.playlist.name),1),e("div",Y,[c(s,{src:t.playlist.creator.avatarUrl,size:"small",round:""},null,8,["src"]),e("span",Z,i(t.playlist.creator.nickname),1),e("div",tt,[(l(!0),n(p,null,w(t.playlist.tags,a=>(l(),n("div",{class:"ml-2 hover-text",key:a},"#"+i(a),1))),128))])]),e("div",et,[c(J,{text:t.playlist.description,end:90},null,8,["text"])])]),e("div",st,[e("button",{class:"w-32 button",onClick:o[0]||(o[0]=(...a)=>t.playAll&&t.playAll(...a))},[c(h,{icon:_(q),size:"22",class:"mr-1"},null,8,["icon"]),lt]),e("button",at,[c(h,{icon:_(G),size:"18",class:"mr-1"},null,8,["icon"]),nt]),e("button",ot,[c(h,{icon:_(I)},null,8,["icon"])])])])])}}}),ut={class:"mt-2"},it=L('<div class="flex text-xs text-gray-400 py-2"><div class="flex-auto">\u6B4C\u66F2</div><div class="w-1/4">\u6B4C\u624B</div><div class="w-1/4">\u4E13\u8F91</div><div class="w-20">\u65F6\u957F</div></div>',1),rt={class:"text-sm"},dt={key:0,class:"flex justify-center py-5"},mt=$("\u52A0\u8F7D\u66F4\u591A"),vt=y({props:{songs:null},setup(t){const u=t,o=r(10),s=r(1),a=F(()=>s.value-u.songs.length/o.value>=0),d=()=>{s.value=s.value+1};return(x,g)=>{const b=P;return l(),n("div",ut,[it,e("div",rt,[(l(!0),n(p,null,w(t.songs.slice(0,o.value*s.value),m=>(l(),D(U,{key:m.id,song:m,"show-ar-name":"","show-al-name":""},null,8,["song"]))),128))]),t.songs.length>o.value&&!_(a)?(l(),n("div",dt,[c(b,{type:"text",class:"text-center w-full",onClick:d},{default:f(()=>[mt]),_:1})])):B("",!0)])}}});const _t={class:"playlist"},pt={key:0,class:"p-5"},Bt=y({setup(t){const u=r("tracks"),o=V(),s=r(),a=r([]),{pushPlayList:d,play:x}=j(),g=()=>{d(!0,...a.value),x(a.value.first().id)};return N(()=>{const m=Number(o.query.id);M(m).then(v=>{s.value=v}),T(m).then(v=>{a.value=v})}),(m,v)=>{const k=S,C=z;return l(),n("div",_t,[s.value?(l(),n("div",pt,[c(ct,{playlist:s.value,"play-all":()=>g()},null,8,["playlist","play-all"]),c(C,{class:"mt-3",modelValue:u.value,"onUpdate:modelValue":v[0]||(v[0]=A=>u.value=A)},{default:f(()=>[c(k,{lazy:"",label:`\u6B4C\u66F2 ${a.value.length}`,name:"tracks"},{default:f(()=>[c(vt,{songs:a.value},null,8,["songs"])]),_:1},8,["label"]),c(k,{lazy:"",label:"\u8BC4\u8BBA",name:"comments"})]),_:1},8,["modelValue"])])):B("",!0)])}}});export{Bt as default};
